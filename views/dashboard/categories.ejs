<% extend('../layouts/dashboardLayout') %>

<div class="row justify-content-center">
  <div class="col-md-6">
    <% messages.forEach(item=>{ %>
      <div class="alert alert-warning"><%- item %></div>
    <% }) %>
    <table class="table">
      <thead>
        <tr>
          <th>名稱</th>
          <th>路徑</th>
          <th width="60"></th>
        </tr>
      </thead>
      <tbody>
        <% categoriesData.forEach((item) =>{ %>
          <tr>
            <td class="align-middle">
              <%- item.name %>
            </td>
            <td>
              <input
                type="text"
                class="form-control form-control-sm"
                value="<%- item.path %>"
                disabled
              />
            </td>
            <td class="d-flex align-middle">
              <form
                action="/dashboard/categories/delete/<%- item.id %>"
                method="POST"
              >
                <button type="submit" class="btn btn-outline-danger btn-sm">
                  刪除
                </button>
              </form>
            </td>
          </tr>
        <% }) %>
      </tbody>
    </table>

    <form action="/dashboard/categories/create" method="POST">
      <table class="table">
        <tr>
          <td class="align-middle">新增</td>
          <td>
            <label for="name">分類名稱</label>
            <input
              type="text"
              class="form-control"
              id="name"
              name="name"
              placeholder="請輸入分類名稱"
            />
          </td>
          <td colspan="2">
            <label for="path">路徑</label>
            <input
              type="text"
              class="form-control"
              id="path"
              name="path"
              placeholder="請輸入分類路徑"
            />
          </td>
        </tr>
      </table>
      <div class="text-right">
        <button type="submit" class="btn btn-primary">新增分類</button>
      </div>
    </form>
  </div>
</div>
